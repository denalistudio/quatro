(function(){function p(a){l(a.getElementsByTagName("script"),function(a){if(!(a.hasAttribute("type")&&"text/javascript"!==a.type&&"application/javascript"!==a.type||a.tracyEvaluated)){var b=a.ownerDocument,d=b.createElement("script");d.textContent=a.textContent;d.setAttribute("nonce",q);(b.body||b.documentElement).appendChild(d);a.tracyEvaluated=!0}})}function v(a,b){var c=document.documentElement,d,e,g,h,k;b=b||{};var p=function(){u&&(r(a,{left:h+e,top:k+g}),requestAnimationFrame(p))},n=function(c){if(0===
c.buttons)return t(c);d||(b.draggedClass&&a.classList.add(b.draggedClass),b.start&&b.start(c,a),d=!0);h=c.touches?c.touches[0].clientX:c.clientX;k=c.touches?c.touches[0].clientY:c.clientY;return!1},t=function(e){d&&(b.draggedClass&&a.classList.remove(b.draggedClass),b.stop&&b.stop(e,a));u=null;c.removeEventListener("mousemove",n);c.removeEventListener("mouseup",t);c.removeEventListener("touchmove",n);c.removeEventListener("touchend",t);return!1},q=function(f){f.preventDefault();f.stopPropagation();
if(u)return t(f);var w=m(a);h=f.touches?f.touches[0].clientX:f.clientX;k=f.touches?f.touches[0].clientY:f.clientY;e=w.left-h;g=w.top-k;u=!0;d=!1;c.addEventListener("mousemove",n);c.addEventListener("mouseup",t);c.addEventListener("touchmove",n);c.addEventListener("touchend",t);requestAnimationFrame(p);b.start&&b.start(f,a)};l(b.handles,function(a){a.addEventListener("mousedown",q);a.addEventListener("touchstart",q);a.addEventListener("click",function(a){d&&a.stopImmediatePropagation()})})}function n(a){for(var b=
{left:a.offsetLeft,top:a.offsetTop};a=a.offsetParent;)b.left+=a.offsetLeft,b.top+=a.offsetTop;return b}function h(){return{width:document.documentElement.clientWidth,height:"BackCompat"===document.compatMode?window.innerHeight:document.documentElement.clientHeight}}function r(a,b){var c=h();"undefined"!==typeof b.right&&(b.left=c.width-a.offsetWidth-b.right);"undefined"!==typeof b.bottom&&(b.top=c.height-a.offsetHeight-b.bottom);a.style.left=Math.max(0,Math.min(b.left,c.width-a.offsetWidth))+"px";
a.style.top=Math.max(0,Math.min(b.top,c.height-a.offsetHeight))+"px"}function m(a){var b=h();return{left:a.offsetLeft,top:a.offsetTop,right:b.width-a.offsetWidth-a.offsetLeft,bottom:b.height-a.offsetHeight-a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}}function x(a){var b=document.createElement("div");b.innerHTML=a;l(b.getElementsByTagName("style"),function(a){a.setAttribute("nonce",q)});return b.innerHTML}function l(a,b){Array.prototype.forEach.call(a,b)}var k=location.href.split("#")[0];
k+=0>k.indexOf("?")?"?":"&";var d=function(a){this.id=a;this.elem=document.getElementById(this.id);this.elem.Tracy=this.elem.Tracy||{}};d.prototype.init=function(){var a=this,b=this.elem;this.init=function(){};b.innerHTML=x(b.dataset.tracyContent);Tracy.Dumper.init(this.dumps,b);delete b.dataset.tracyContent;delete this.dumps;p(b);v(b,{handles:b.querySelectorAll("h1"),start:function(){a.is(d.FLOAT)||a.toFloat();a.focus();a.peekPosition=!1}});b.addEventListener("mousedown",function(){a.focus()});b.addEventListener("mouseenter",
function(){clearTimeout(b.Tracy.displayTimeout)});b.addEventListener("mouseleave",function(){a.blur()});b.addEventListener("mousemove",function(c){c.buttons&&!a.is(d.RESIZED)&&(b.style.width||b.style.height)&&b.classList.add(d.RESIZED)});b.addEventListener("tracy-toggle",function(){a.reposition()});l(b.querySelectorAll(".tracy-icons a"),function(b){b.addEventListener("click",function(c){"close"===b.rel?a.toPeek():"window"===b.rel&&a.toWindow();c.preventDefault()})});this.is("tracy-ajax")||Tracy.Toggle.persist(b)};
d.prototype.is=function(a){return this.elem.classList.contains(a)};d.prototype.focus=function(){var a=this.elem;if(this.is(d.WINDOW))a.Tracy.window.focus();else if(!this.is(d.FOCUSED)){for(var b in e.panels)e.panels[b].elem.classList.remove(d.FOCUSED);a.classList.add(d.FOCUSED);a.style.zIndex=Tracy.panelZIndex+d.zIndexCounter++}};d.prototype.blur=function(){var a=this.elem;this.is(d.PEEK)&&(clearTimeout(a.Tracy.displayTimeout),a.Tracy.displayTimeout=setTimeout(function(){a.classList.remove(d.FOCUSED)},
50))};d.prototype.toFloat=function(){this.elem.classList.remove(d.WINDOW);this.elem.classList.remove(d.PEEK);this.elem.classList.add(d.FLOAT);this.elem.classList.remove(d.RESIZED);this.reposition()};d.prototype.toPeek=function(){this.elem.classList.remove(d.WINDOW);this.elem.classList.remove(d.FLOAT);this.elem.classList.remove(d.FOCUSED);this.elem.classList.add(d.PEEK);this.elem.style.width="";this.elem.style.height="";this.elem.classList.remove(d.RESIZED)};d.prototype.toWindow=function(){var a=this,
b=n(this.elem);b.left+="number"===typeof window.screenLeft?window.screenLeft:window.screenX+10;b.top+="number"===typeof window.screenTop?window.screenTop:window.screenY+50;var c=window.open("",this.id.replace(/-/g,"_"),"left="+b.left+",top="+b.top+",width="+this.elem.offsetWidth+",height="+this.elem.offsetHeight+",resizable=yes,scrollbars=yes");if(!c)return!1;b=c.document;b.write('<!DOCTYPE html><meta charset="utf-8"><script src="'+k.replace("&","&amp;").replace('"',"&quot;")+'_tracy_bar=js&amp;XDEBUG_SESSION_STOP=1" onload="Tracy.Dumper.init()" async>\x3c/script><body id="tracy-debug">');
b.body.innerHTML='<div class="tracy-panel tracy-mode-window" id="'+this.elem.id+'">'+this.elem.innerHTML+"</div>";p(b.body);this.elem.querySelector("h1")&&(b.title=this.elem.querySelector("h1").textContent);c.addEventListener("beforeunload",function(){a.toPeek();c.close()});b.addEventListener("keyup",function(a){27!==a.keyCode||a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||c.close()});this.elem.classList.remove(d.FLOAT);this.elem.classList.remove(d.PEEK);this.elem.classList.remove(d.FOCUSED);this.elem.classList.remove(d.RESIZED);
this.elem.classList.add(d.WINDOW);this.elem.Tracy.window=c;return!0};d.prototype.reposition=function(a,b){var c=m(this.elem);c.width&&(r(this.elem,{left:c.left+(a||0),top:c.top+(b||0)}),this.is(d.RESIZED)&&(a=h(),this.elem.style.width=Math.min(a.width,c.width)+"px",this.elem.style.height=Math.min(a.height,c.height)+"px"))};d.prototype.savePosition=function(){var a=m(this.elem);this.is(d.WINDOW)?localStorage.setItem(this.id,JSON.stringify({window:!0})):a.width?localStorage.setItem(this.id,JSON.stringify({right:a.right,
bottom:a.bottom,width:a.width,height:a.height,zIndex:this.elem.style.zIndex-Tracy.panelZIndex,resized:this.is(d.RESIZED)})):localStorage.removeItem(this.id)};d.prototype.restorePosition=function(){var a=JSON.parse(localStorage.getItem(this.id));a?a.window?(this.init(),this.toWindow()||this.toFloat()):this.elem.dataset.tracyContent&&(this.init(),this.toFloat(),a.resized&&(this.elem.classList.add(d.RESIZED),this.elem.style.width=a.width+"px",this.elem.style.height=a.height+"px"),r(this.elem,a),this.elem.style.zIndex=
Tracy.panelZIndex+(a.zIndex||1),d.zIndexCounter=Math.max(d.zIndexCounter,a.zIndex||1)+1):this.elem.classList.add(d.PEEK)};d.PEEK="tracy-mode-peek";d.FLOAT="tracy-mode-float";d.WINDOW="tracy-mode-window";d.FOCUSED="tracy-focused";d.RESIZED="tracy-panel-resized";d.zIndexCounter=1;var g=function(){};g.prototype.init=function(){var a=this;this.id="tracy-debug-bar";this.elem=document.getElementById(this.id);v(this.elem,{handles:this.elem.querySelectorAll("li:first-child"),draggedClass:"tracy-dragged",
stop:function(){a.savePosition()}});this.elem.addEventListener("mousedown",function(a){a.preventDefault()});this.initTabs(this.elem);this.restorePosition();(new MutationObserver(function(){a.restorePosition()})).observe(this.elem,{childList:!0,characterData:!0,subtree:!0})};g.prototype.initTabs=function(a){var b=this;l(a.getElementsByTagName("a"),function(c){c.addEventListener("click",function(a){if("close"===c.rel)b.close();else if(c.rel){var f=e.panels[c.rel];f.init();a.shiftKey?(f.toFloat(),f.toWindow()):
f.is(d.FLOAT)?f.toPeek():(f.toFloat(),f.peekPosition&&(f.reposition(-Math.round(100*Math.random())-20,(Math.round(100*Math.random())+20)*(b.isAtTop()?1:-1)),f.peekPosition=!1))}a.preventDefault()});c.addEventListener("mouseenter",function(f){f.buttons||!c.rel||"close"===c.rel||a.classList.contains("tracy-dragged")||(clearTimeout(b.displayTimeout),b.displayTimeout=setTimeout(function(){var a=e.panels[c.rel];a.focus();if(a.is(d.PEEK)){a.init();var f=m(a.elem);r(a.elem,{left:n(c).left+m(c).width+4-f.width,
top:b.isAtTop()?n(b.elem).top+m(b.elem).height+4:n(b.elem).top-f.height-4});a.peekPosition=!0}},50))});c.addEventListener("mouseleave",function(){clearTimeout(b.displayTimeout);c.rel&&"close"!==c.rel&&!a.classList.contains("tracy-dragged")&&e.panels[c.rel].blur()})});this.autoHideLabels()};g.prototype.autoHideLabels=function(){var a=h().width;l(this.elem.children,function(b){var c,d=b.querySelectorAll(".tracy-label");for(c=0;c<d.length&&b.clientWidth<a;c++)d.item(c).hidden=!1;for(c=d.length-1;0<=
c&&b.clientWidth>=a;c--)d.item(c).hidden=!0})};g.prototype.close=function(){document.getElementById("tracy-debug").style.display="none"};g.prototype.reposition=function(a,b){var c=m(this.elem);c.width&&(r(this.elem,{left:c.left+(a||0),top:c.top+(b||0)}),this.savePosition())};g.prototype.savePosition=function(){var a=m(this.elem);a.width&&localStorage.setItem(this.id,JSON.stringify(this.isAtTop()?{right:a.right,top:a.top}:{right:a.right,bottom:a.bottom}))};g.prototype.restorePosition=function(){var a=
JSON.parse(localStorage.getItem(this.id));r(this.elem,a||{right:0,bottom:0});this.savePosition()};g.prototype.isAtTop=function(){var a=m(this.elem);return 100>a.top&&a.bottom>a.top};var e=function(){};e.init=function(a,b){e.layer=document.createElement("div");e.layer.setAttribute("id","tracy-debug");e.layer.innerHTML=x(a);(document.body||document.documentElement).appendChild(e.layer);p(e.layer);Tracy.Dumper.init();e.layer.style.display="block";e.bar.init();l(document.querySelectorAll(".tracy-panel"),
function(a){e.panels[a.id]=new d(a.id);e.panels[a.id].dumps=b;e.panels[a.id].restorePosition()});e.captureWindow();e.captureAjax()};e.loadAjax=function(a,b){l(e.layer.querySelectorAll(".tracy-panel.tracy-ajax"),function(a){e.panels[a.id].savePosition();delete e.panels[a.id];a.parentNode.removeChild(a)});var c=document.getElementById("tracy-ajax-bar");c&&c.parentNode.removeChild(c);e.layer.insertAdjacentHTML("beforeend",a);p(e.layer);c=document.getElementById("tracy-ajax-bar");e.bar.elem.appendChild(c);
l(document.querySelectorAll(".tracy-panel"),function(a){e.panels[a.id]||(e.panels[a.id]=new d(a.id),e.panels[a.id].dumps=b,e.panels[a.id].restorePosition())});e.bar.initTabs(c)};e.captureWindow=function(){var a=h();window.addEventListener("resize",function(){var b=h();e.bar.reposition(b.width-a.width,b.height-a.height);e.bar.autoHideLabels();for(var c in e.panels)e.panels[c].reposition(b.width-a.width,b.height-a.height);a=b});window.addEventListener("unload",function(){for(var a in e.panels)e.panels[a].savePosition()})};
e.captureAjax=function(){var a=Tracy.getAjaxHeader();if(a){var b=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){b.apply(this,arguments);!1!==window.TracyAutoRefresh&&(new URL(arguments[1],location.origin)).host===location.host&&(this.setRequestHeader("X-Tracy-Ajax",a),this.addEventListener("load",function(){this.getAllResponseHeaders().match(/^X-Tracy-Ajax: 1/mi)&&e.loadScript(k+"_tracy_bar=content-ajax."+a+"&XDEBUG_SESSION_STOP=1&v="+Math.random())}))};if(window.fetch){var c=
window.fetch;window.fetch=function(b,d){b=b instanceof Request?b:new Request(b,d||{});return!1!==window.TracyAutoRefresh&&(new URL(b.url,location.origin)).host===location.host?(b.headers.set("X-Tracy-Ajax",a),c(b).then(function(b){b.headers.has("X-Tracy-Ajax")&&"1"===b.headers.get("X-Tracy-Ajax")[0]&&e.loadScript(k+"_tracy_bar=content-ajax."+a+"&XDEBUG_SESSION_STOP=1&v="+Math.random());return b})):c(b)}}}};e.loadScript=function(a){e.scriptElem&&e.scriptElem.parentNode.removeChild(e.scriptElem);e.scriptElem=
document.createElement("script");e.scriptElem.src=a;e.scriptElem.setAttribute("nonce",q);(document.body||document.documentElement).appendChild(e.scriptElem)};var u;if(document.currentScript){var q=document.currentScript.getAttribute("nonce")||document.currentScript.nonce;var y=document.currentScript.dataset.id}Tracy=window.Tracy||{};Tracy.panelZIndex=Tracy.panelZIndex||2E4;Tracy.DebugPanel=d;Tracy.DebugBar=g;Tracy.Debug=e;Tracy.getAjaxHeader=function(){return y};e.bar=new g;e.panels={}})();